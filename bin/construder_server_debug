#!/opt/perl/bin/perl
package AnyEvent::Debug::shell;
use common::sense;
use Data::Dumper;

sub d {
   my ($d) = @_;
   Dumper ($d)
}

sub wf {
   my ($name, $data) = @_;
   open my $fh, ">", "/tmp/$name.debug"
      or die "Couldn't open /tmp/$name.debug: $!\n";
   binmode $fh;
   print $fh $data;
}

package main;
use common::sense;
use AnyEvent;
use Games::Construder;
use Games::Construder::Server;

our $CV = AE::cv;

Games::Construder::Debug::init ("server");

our $server;
$server = Games::Construder::Server->new;
$server->init;
$server->listen;

$CV->recv;
